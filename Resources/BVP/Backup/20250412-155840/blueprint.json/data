{
  "d3007123-e80c-4c1b-8191-1fca0e769023": {
    "id": "2",
    "createdAt": "2025-04-12T06:05:55.912770Z",
    "createdBy": "sophia",
    "updatedAt": "2025-04-12T06:05:55.912770Z",
    "updatedBy": "sophia",
    "orgId": "72289d0c-8e6c-4825-ad70-89208f5c1e75",
    "projectId": "aa0ba574-aec3-4c69-88d0-6bbb1964e8ae",
    "projectName": "admin",
    "selfLink": "/blueprint/api/blueprints/d3007123-e80c-4c1b-8191-1fca0e769023/versions/2",
    "blueprintId": "d3007123-e80c-4c1b-8191-1fca0e769023",
    "name": "DBaaS",
    "description": "",
    "version": "2",
    "content": "formatVersion: 2\ninputs:\n  # metadata <static>\n  _metadata_category:\n    type: string\n    title: Metadata Category\n    readOnly: true\n    default: Database\n  _metadata_catalog:\n    type: string\n    title: Metadata Catalog\n    readOnly: true\n    default: DSM\n  _metadata_resource_type:\n    type: string\n    title: Metadata Resource Type\n    readOnly: true\n    default: Custom.DSMDB\n  _metadata_available:\n    type: string\n    title: Metadata Available\n    readOnly: true\n    default: vpc member\n  # hidden <adjustable>\n  _project_id:\n    type: string\n    title: Project ID\n    default: bc0d85d7-98f7-4f45-b91b-09be0ee84d1d\n  _project_name:\n    type: string\n    title: Project Name\n    readOnly: true\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.dsm/getProjectNameByProjectId?projectId={{_project_id}}\n  # input parameters <variable>\n  requestMessage:\n    type: string\n    title: Request Message\n  dbengine:\n    type: string\n  dbversion:\n    type: string\n  topology:\n    type: string\n  databaseName:\n    type: string\n  adminUsername:\n    type: string\n  infraPolicy:\n    type: string\n  storagePolicy:\n    type: string\n  vmClass:\n    type: string\n  deploymentName:\n    type: string\n  storageSpace:\n    type: number\n  enableDirectoryServiceAuthentication:\n    type: boolean\n  enableBackups:\n    type: boolean\n  backupLocation:\n    type: string\n    default: unset\n  backupRetentionDays:\n    type: number\n  enableMaintenanceWindow:\n    type: boolean\n  maintenanceDayOfWeek:\n    type: string\n  maintenanceWindowHours:\n    type: string\n  maintenanceWindowMins:\n    type: string\n  maintenanceDuration:\n    type: string\n  enableDbOptions:\n    type: boolean\n  dbOptions:\n    type: array\n    items:\n      type: string\n    default: []\nresources:\n  Custom_DSMDB_1:\n    type: Custom.DSMDB\n    metadata:\n      layoutPosition:\n        - 0\n        - 0\n    properties:\n      deploymentName: ${input.deploymentName}\n      dbengine: ${input.dbengine}\n      dbversion: ${input.dbversion}\n      topology: ${input.topology}\n      databaseName: ${input.databaseName}\n      adminUsername: ${input.adminUsername}\n      infraPolicy: ${input.infraPolicy}\n      storagePolicy: ${input.storagePolicy}\n      vmClass: ${input.vmClass}\n      storageSpace: ${input.storageSpace}\n      enableDirectoryServiceAuthentication: ${input.enableDirectoryServiceAuthentication}\n      enableBackups: ${input.enableBackups}\n      backupLocation: ${input.backupLocation}\n      backupRetentionDays: ${input.backupRetentionDays}\n      enableMaintenanceWindow: ${input.enableMaintenanceWindow}\n      maintenanceDayOfWeek: ${input.maintenanceDayOfWeek}\n      maintenanceWindowHours: ${input.maintenanceWindowHours}\n      maintenanceWindowMins: ${input.maintenanceWindowMins}\n      maintenanceDuration: ${input.maintenanceDuration}\n      enableDbOptions: ${input.enableDbOptions}\n      dbOptions: ${input.dbOptions}\n      ariaProject: ${env.projectName}\noutputs:\n  __deploymentOverview:\n    value: |\n      This deployment ${resource.Custom_DSMDB_1.deploymentName} is managed by the Data Services Manager (DSM), which means your infrastructure and data teams have set up the correct infrastructure and can monitor the health of the database. A number of Day2 operations are done by DSM automatically. For example, if a user has configured a maintenance window for his database, then the database patches will be automatically rolled out non-disruptively (subject to DSM DB policies) during the maintenance window. Similarly, if database backups are enabled, then automatic retention and expiration of backups is taken care of. Also, a number of failure scenarios are automatically dealt with.\n\n      In order to connect to this deployment ${resource.Custom_DSMDB_1.deploymentName}, you can perform the Day2 Action called 'Get Connection String'. Follow the procedure below to get the database connection string:\n      - Click on ${resource.Custom_DSMDB_1.deploymentName} in the 'Deployments' page\n      - Click on the 'Topology' tab\n      - Click on 'Actions' located on the right side of the 'Topology' Tab.\n      - Select the option 'Get Connection String' in order to view/copy the database connection string.\n\n      Note: The Day2 Action 'Get Connection String' only gets enabled when the database is in the 'Ready' state.\n\n      To view the latest details of ${resource.Custom_DSMDB_1.deploymentName}, visit and refresh the 'Topology' tab.\n",
    "status": "RELEASED",
    "versionDescription": "",
    "versionChangeLog": "",
    "valid": true
  },
  "15c0d653-ca1d-4a34-8f73-68f15ec21e5b": {
    "id": "20250324-191120",
    "createdAt": "2025-03-24T10:11:32.218655Z",
    "createdBy": "admin",
    "updatedAt": "2025-03-24T10:11:32.218655Z",
    "updatedBy": "admin",
    "orgId": "72289d0c-8e6c-4825-ad70-89208f5c1e75",
    "projectId": "aa0ba574-aec3-4c69-88d0-6bbb1964e8ae",
    "projectName": "admin",
    "selfLink": "/blueprint/api/blueprints/15c0d653-ca1d-4a34-8f73-68f15ec21e5b/versions/20250324-191120",
    "blueprintId": "15c0d653-ca1d-4a34-8f73-68f15ec21e5b",
    "name": "Block Disk",
    "description": "",
    "version": "20250324-191120",
    "content": "formatVersion: 1\ninputs:\n  # metadata <static>\n  _metadata_category:\n    type: string\n    title: Metadata Category\n    readOnly: true\n    default: Storage\n  _metadata_catalog:\n    type: string\n    title: Metadata Catalog\n    readOnly: true\n    default: Disk\n  _metadata_resource_type:\n    type: string\n    title: Metadata Resource Type\n    readOnly: true\n    default: Cloud.vSphere.Disk\n  _metadata_available:\n    type: string\n    title: Metadata Available\n    readOnly: true\n    default: vpc member\n  # hidden <adjustable>\n  _project_id:\n    type: string\n    title: Project ID\n    default: bc0d85d7-98f7-4f45-b91b-09be0ee84d1d\n  _project_name:\n    type: string\n    title: Project Name\n    readOnly: true\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.disk/getProjectNameByProjectId?projectId={{_project_id}}\n  _storage_tag_category:\n    type: string\n    title: Storage Tag Category\n    default: storage\n  # input parameters <variable>\n  requestMessage:\n    type: string\n    title: Request Message\n  codeName:\n    type: string\n    title: Code Name\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.disk/getRandomString?type=lowerDigit&length=8\n    pattern: ^[a-z][0-9a-z]+$\n    minLength: 2\n    maxLength: 16\n  displayName:\n    type: string\n    title: Display Name\n  placementZone:\n    type: string\n    title: Availability Zone\n    $dynamicEnum: /data/vro-actions/com.bvp.bp.disk/getPlacementZonesByProjectId?projectId={{_project_id}}\n  storage:\n    type: string\n    title: Storage\n    $dynamicEnum: /data/vro-actions/com.bvp.bp.disk/getStorageTagValuesByTagCategoryAndPlacementZoneLink?category={{_storage_tag_category}}&placementZoneLink={{placementZone}}\n  size:\n    type: number\n    title: Disk Size\n    minimum: 1\n  provisioningType:\n    type: string\n    title: Provisioning Type\n    oneOf:\n      - title: Eager Zeroed Thick\n        const: eagerZeroedThick\n      - title: Thick\n        const: Thick\n      - title: Thin\n        const: thin\n    default: thin\nresources:\n  disk:\n    type: Cloud.vSphere.Disk\n    metadata:\n      layoutPosition:\n        - 1\n        - 1\n    properties:\n      name: ${input._project_name+\"-\"+input.codeName}\n      displayName: ${input.displayName}\n      onDemand: true\n      capacityGb: ${input.size}\n      provisioningType: ${input.provisioningType}\n      persistent: true\n      constraints:\n        - tag: ${input._storage_tag_category+\":\"+input.storage}\n",
    "status": "RELEASED",
    "versionDescription": "install by value pack at 20250324-191120",
    "valid": true
  },
  "47e91924-82cd-452a-87bb-3a89814b924a": {
    "id": "20250324-191120",
    "createdAt": "2025-03-24T10:11:31.624847Z",
    "createdBy": "admin",
    "updatedAt": "2025-03-24T10:11:31.624847Z",
    "updatedBy": "admin",
    "orgId": "72289d0c-8e6c-4825-ad70-89208f5c1e75",
    "projectId": "aa0ba574-aec3-4c69-88d0-6bbb1964e8ae",
    "projectName": "admin",
    "selfLink": "/blueprint/api/blueprints/47e91924-82cd-452a-87bb-3a89814b924a/versions/20250324-191120",
    "blueprintId": "47e91924-82cd-452a-87bb-3a89814b924a",
    "name": "Network File System",
    "description": "",
    "version": "20250324-191120",
    "content": "formatVersion: 1\ninputs:\n  # metadata <static>\n  _metadata_category:\n    type: string\n    title: Metadata Category\n    readOnly: true\n    default: Storage\n  _metadata_catalog:\n    type: string\n    title: Metadata Catalog\n    readOnly: true\n    default: NFS\n  _metadata_resource_type:\n    type: string\n    title: Metadata Resource Type\n    readOnly: true\n    default: Custom.NFS\n  _metadata_available:\n    type: string\n    title: Metadata Available\n    readOnly: true\n    default: bvp vpc member\n  # hidden <static>\n  _project_id:\n    type: string\n    title: Project ID\n    default: 13e19606-e340-4f78-bdd9-1567bcf4e28d\n  _project_name:\n    type: string\n    title: Project Name\n    readOnly: true\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.nfs/getProjectNameByProjectId?projectId={{_project_id}}\n  _project_domain:\n    type: string\n    title: Project Domain\n    readOnly: true\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.nfs/getVpcProjectDomainByProfileLink?profileLink={{vpc}}\n  _code_seed:\n    type: string\n    title: Code Name\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.seg/getRandomString?type=lowerDigit&length=6\n    pattern: ^[a-z][0-9a-z]+$\n    minLength: 2\n    maxLength: 16\n  _compute_tag_value:\n    type: string\n    title: Compute Tag Value\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.nfs/getPlacementZoneTagValueByTagCategoryAndPlacementZoneLink?category={{_compute_tag_category}}&placementZoneLink={{placementZone}}\n  _segment_tag_value:\n    type: string\n    title: Segment Tag Value\n    readOnly: true\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.nfs/getManagedSegTagValueByProfileLink?profileLink={{vpc}}\n  _root_password_new:\n    type: string\n    title: New Root Password\n    readOnly: true\n    encrypted: true\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.nfs/getRandomString?type=lowerDigit&length=16\n  # hidden <admin>\n  _image:\n    type: string\n    title: OS Image\n    default: Ubuntu 24.04\n  _flavor:\n    type: string\n    title: Flavor\n    default: small\n  _base_folder:\n    type: string\n    title: Base Folder\n    default: FD-CLOUD-VM\n  _compute_tag_category:\n    type: string\n    title: Compute Tag Category\n    default: compute\n  _segment_tag_category:\n    type: string\n    title: Segment Tag Category\n    default: vpcSegId\n  _admin_username:\n    type: string\n    title: Admin Username\n    default: cloody\n  _admin_password:\n    type: string\n    title: Admin Password\n    default: DoItYourself1!\n    encrypted: true\n  _root_password:\n    type: string\n    title: Root Password\n    default: VMware1!\n    encrypted: true\n  _package_upgrade:\n    type: boolean\n    title: Package Upgrade\n    default: false\n  # user inputs <variable>\n  requestMessage:\n    type: string\n    title: Request Message\n  displayName:\n    type: string\n    title: Display Name\n  placementZone:\n    type: string\n    title: Availability Zone\n    $dynamicEnum: /data/vro-actions/com.bvp.bp.nfs/getPlacementZoneLinksByProjectId?projectId={{_project_id}}\n  vpc:\n    type: string\n    title: VPC\n    $dynamicEnum: /data/vro-actions/com.bvp.bp.nfs/getVpcProfileLinksByProjectIdAndPlacementZoneLink?projectId={{_project_id}}&placementZoneLink={{placementZone}}\n  nfsSize:\n    type: number\n    title: NFS Size (GB)\n    default: 1\n    minimum: 1\nresources:\n  nfs:\n    type: Custom.NFS\n    metadata:\n      layoutPosition:\n        - 0\n        - 0\n    properties:\n      displayName: ${input.displayName}\n      vpc: ${input.vpc}\n      size: ${input.nfsSize}\n      compute: ${resource.vm.id}\n  vm:\n    type: Cloud.vSphere.Machine\n    metadata:\n      layoutPosition:\n        - 1\n        - 0\n    properties:\n      name: nfs-${input._code_seed+\".\"+input._project_domain}\n      folderName: ${input._base_folder+\"/\"+input._project_name}\n      image: ${input._image}\n      flavor: ${input._flavor}\n      constraints:\n        - tag: ${input._compute_tag_category+\":\"+input._compute_tag_value}\n      networks:\n        - network: ${resource.seg.id}\n          assignment: static\n          primaryAddress: true\n      attachedDisks:\n        - source: ${resource.disk.id}\n      rootPassword: ${input._root_password}\n      rootPasswordNew: ${input._root_password_new}\n      adminUsername: ${input._admin_username}\n      adminPassword: ${input._admin_password}\n      cloudConfig: |\n        #cloud-config\n        users:\n          - name: ${input._admin_username}\n            sudo: ALL=(ALL) NOPASSWD:ALL\n            shell: /bin/bash\n            groups: [adm, sudo, wheel, users]\n            lock_passwd: false\n        chpasswd:\n          list: |\n            ${input._admin_username+\":\"+input._admin_password}\n          expire: False\n        ssh_pwauth: true\n        disk_setup:\n          /dev/sdb:\n            table_type: gpt\n            layout: True\n            overwrite: True\n        fs_setup:\n          - device: /dev/sdb\n            filesystem: ext4\n            label: nfs_disk\n        mounts:\n          - [\"/dev/disk/by-label/nfs_disk\",\"/nfs\",\"auto\",\"defaults\",\"0\",\"0\"]\n        package_update: ${input._package_upgrade==true?\"true\":\"false\"}\n        package_upgrade: ${input._package_upgrade==true?\"true\":\"false\"}\n        packages:\n          - nfs-kernel-server\n        runcmd:\n          - echo \"/nfs *(rw,sync,no_root_squash,no_subtree_check)\" | tee /etc/exports\n          - mount -a\n          - rm -rf /nfs/*\n          - chown nobody:nogroup /nfs\n          - exportfs -a\n  disk:\n    type: Cloud.vSphere.Disk\n    metadata:\n      layoutPosition:\n        - 1\n        - 1\n    properties:\n      name: ${input._project_name+\"-\"+input._code_seed+\"-nfsdisk\"}\n      capacityGb: ${input.nfsSize}\n  seg:\n    type: Cloud.NSX.Network\n    metadata:\n      layoutPosition:\n        - 2\n        - 0\n    properties:\n      networkType: existing\n      constraints:\n        - tag: ${input._segment_tag_category+\":\"+input._segment_tag_value}\n",
    "status": "RELEASED",
    "versionDescription": "install by value pack at 20250324-191120",
    "valid": true
  },
  "9dd2a05c-f784-469a-bede-903724b9e195": {
    "id": "20250324-191120",
    "createdAt": "2025-03-24T10:11:30.644959Z",
    "createdBy": "admin",
    "updatedAt": "2025-03-24T10:11:30.644959Z",
    "updatedBy": "admin",
    "orgId": "72289d0c-8e6c-4825-ad70-89208f5c1e75",
    "projectId": "aa0ba574-aec3-4c69-88d0-6bbb1964e8ae",
    "projectName": "admin",
    "selfLink": "/blueprint/api/blueprints/9dd2a05c-f784-469a-bede-903724b9e195/versions/20250324-191120",
    "blueprintId": "9dd2a05c-f784-469a-bede-903724b9e195",
    "name": "Distributed Firewall",
    "description": "",
    "version": "20250324-191120",
    "content": "formatVersion: 1\ninputs:\n    # metadata <static>\n  _metadata_category:\n    type: string\n    title: Metadata Category\n    readOnly: true\n    default: Security\n  _metadata_catalog:\n    type: string\n    title: Metadata Catalog\n    readOnly: true\n    default: DFW\n  _metadata_resource_type:\n    type: string\n    title: Metadata Resource Type\n    readOnly: true\n    default: Cloud.SecurityGroup\n  _metadata_available:\n    type: string\n    title: Metadata Available\n    readOnly: true\n    default: bvp vpc member\n  # hidden <static>\n  _project_id:\n    type: string\n    title: Project ID\n    default: 8fdf36d7-bffd-40b2-86ad-ddda65464f8e\n  _project_name:\n    type: string\n    title: Project Name\n    readOnly: true\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.dfw/getProjectNameByProjectId?projectId={{_project_id}}\n  # hidden <admin>\n  _dfw_tag_category:\n    type: string\n    title: DFW Tag Category\n    default: dfwId\n  # user inputs <variable>\n  requestMessage:\n    type: string\n    title: Request Message\n  displayName:\n    type: string\n    title: Display Name\n  codeName:\n    type: string\n    title: Code Name\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.dfw/getRandomString?type=lowerDigit&length=8\n    pattern: ^[a-z][0-9a-z]+$\n    minLength: 2\n    maxLength: 16\n  fwRules:\n    type: array\n    title: Rules\n    default: []\n    items:\n      type: object\n      properties:\n        name:\n          type: string\n          title: Rule Name\n        direction:\n          type: string\n          title: Direction\n          oneOf:\n            - title: IN\n              const: inbound\n            - title: OUT\n              const: outbound\n        protocol:\n          type: string\n          title: Protocol\n          enum:\n            - ANY\n            - ICMP\n            - TCP\n            - UDP\n        ports:\n          type: string\n          title: Port\n        source:\n          type: string\n          title: Source\n        destination:\n          type: string\n          title: Destination\n        access:\n          type: string\n          title: Action\n          oneOf:\n            - title: ALLOW\n              const: Allow\n            - title: DROP\n              const: Drop\n            - title: DENY\n              const: Deny\nresources:\n  dfw:\n    type: Cloud.SecurityGroup\n    metadata:\n      layoutPosition:\n        - 0\n        - 0\n    properties:\n      name: ${input._project_name+\"-\"+input.codeName}\n      displayName: ${input.displayName}\n      requestMessage: ${input.requestMessage}\n      securityGroupType: new\n      rules: ${input.fwRules}\n      tags:\n        - key: ${input._dfw_tag_category}\n          value: ${input._project_name+\"-\"+input.codeName}\n",
    "status": "RELEASED",
    "versionDescription": "install by value pack at 20250324-191120",
    "valid": true
  },
  "4fbf5034-b65f-4a4a-b4ed-db13bb0925f9": {
    "id": "20250324-191120",
    "createdAt": "2025-03-24T10:11:30.222873Z",
    "createdBy": "admin",
    "updatedAt": "2025-03-24T10:11:30.222873Z",
    "updatedBy": "admin",
    "orgId": "72289d0c-8e6c-4825-ad70-89208f5c1e75",
    "projectId": "aa0ba574-aec3-4c69-88d0-6bbb1964e8ae",
    "projectName": "admin",
    "selfLink": "/blueprint/api/blueprints/4fbf5034-b65f-4a4a-b4ed-db13bb0925f9/versions/20250324-191120",
    "blueprintId": "4fbf5034-b65f-4a4a-b4ed-db13bb0925f9",
    "name": "Virtual Machine",
    "description": "",
    "version": "20250324-191120",
    "content": "formatVersion: 1\ninputs:\n  # metadata <static>\n  _metadata_category:\n    type: string\n    title: Metadata Category\n    readOnly: true\n    default: VM\n  _metadata_catalog:\n    type: string\n    title: Metadata Catalog\n    readOnly: true\n    default: VM\n  _metadata_resource_type:\n    type: string\n    title: Metadata Resource Type\n    readOnly: true\n    default: Cloud.vSphere.Machine\n  _metadata_available:\n    type: string\n    title: Metadata Available\n    readOnly: true\n    default: bvp vpc member\n  # hidden <static>\n  _project_id:\n    type: string\n    title: Project ID\n    default: c2891803-2b94-447f-aca3-3daf6546e6ff\n  _project_name:\n    type: string\n    title: Project Name\n    readOnly: true\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.vm/getProjectNameByProjectId?projectId={{_project_id}}\n  _project_domain:\n    type: string\n    title: Project Domain\n    readOnly: true\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.vm/getVpcProjectDomainByProfileLink?profileLink={{vpc}}\n  _segment_tag_value:\n    type: string\n    title: Segment Tag Value\n    readOnly: true\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.vm/getSegmentTagValueByTagCategoryAndSubnetLink?category={{_segment_tag_category}}&subnetLink={{segment}}\n  _root_password_new:\n    type: string\n    title: New Root Password\n    readOnly: true\n    encrypted: true\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.vm/getRandomString?type=lowerDigit&length=16\n  # hidden <admin>\n  _base_folder:\n    type: string\n    title: Base Folder\n    default: FD-CLOUD-VM\n  _compute_tag_category:\n    type: string\n    title: Compute Tag Category\n    default: compute\n  _segment_tag_category:\n    type: string\n    title: Segment Tag Category\n    default: vpcSegId\n  _dfw_tag_category:\n    type: string\n    title: DFW Tag Category\n    default: dfwId\n  _admin_username:\n    type: string\n    title: Admin Username\n    default: cloody\n  _admin_password:\n    type: string\n    title: Admin Password\n    default: DoItYourself1!\n    encrypted: true\n  _root_password:\n    type: string\n    title: Root Password\n    default: VMware1!\n    encrypted: true\n  _sudoer_user:\n    type: boolean\n    title: Allow Sudoer\n    default: false\n  _package_upgrade:\n    type: boolean\n    title: Package Upgrade\n    default: false\n  # user inputs <variable>\n  requestMessage:\n    type: string\n    title: Request Message\n  displayName:\n    type: string\n    title: Display Name\n  hostName:\n    type: string\n    title: Host Name\n    pattern: ^[a-z][0-9a-z]+$\n    minLength: 2\n    maxLength: 16\n  placementZone:\n    type: string\n    title: Availability Zone\n    $dynamicEnum: /data/vro-actions/com.bvp.bp.vm/getPlacementZoneLinksByProjectId?projectId={{_project_id}}\n  compute:\n    type: string\n    title: Compute Type\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.vm/getPlacementZoneTagValueByTagCategoryAndPlacementZoneLink?category={{_compute_tag_category}}&placementZoneLink={{placementZone}}\n    $dynamicEnum: /data/vro-actions/com.bvp.bp.vm/getComputeTagValuesByTagCategoryAndPlacementZoneLink?category={{_compute_tag_category}}&placementZoneLink={{placementZone}}\n  flavor:\n    type: string\n    title: Flavor\n    $dynamicEnum: /data/vro-actions/com.bvp.bp.vm/getFlavorsByPlacementZoneLink?placementZoneLink={{placementZone}}\n  vpc:\n    type: string\n    title: VPC\n    $dynamicEnum: /data/vro-actions/com.bvp.bp.vm/getVpcProfileLinksByProjectIdAndPlacementZoneLink?projectId={{_project_id}}&placementZoneLink={{placementZone}}\n  segment:\n    type: string\n    title: Segment\n    $dynamicEnum: /data/vro-actions/com.bvp.bp.vm/getVpcSubnetLinksByProfileLink?profileLink={{vpc}}\n  address:\n    type: string\n    title: IP Address\n    $dynamicEnum: /data/vro-actions/com.bvp.bp.vm/getIpAddressesBySubnetLink?subnetLink={{segment}}\n  addressType:\n    type: string\n    title: IP Address Type\n    default: variable\n    oneOf:\n      - title: Variable\n        const: variable\n      - title: Permanent\n        const: permanent\n  firewall:\n    type: string\n    title: Distributed Firewalls\n    $dynamicEnum: /data/vro-actions/com.bvp.bp.vm/getFirewallTagValuesByTagCategoryAndProjectId?category={{_dfw_tag_category}}&projectId={{_project_id}}\n  diskSize:\n    type: number\n    title: Additional Disk (GB)\n    default: 0\n    minimum: 0\n  diskMount:\n    type: string\n    title: Mount\n    default: /data\n  diskPersistence:\n    type: boolean\n    title: Persistence\n    default: false\n  image:\n    type: string\n    title: OS Image\n    $dynamicEnum: /data/vro-actions/com.bvp.bp.vm/getImagesByPlacementZoneLink?placementZoneLink={{placementZone}}\n  packages:\n    type: array\n    title: Software Packages\n    default: []\n    items:\n      type: string\n  bootScripts:\n    type: string\n    title: Bootstrap Scripts\n    default: ''\n  username:\n    type: string\n    title: Username\n  password:\n    type: string\n    title: Password\n    encrypted: true\nresources:\n  vm:\n    type: Cloud.vSphere.Machine\n    metadata:\n      layoutPosition:\n        - 0\n        - 0\n    properties:\n      name: ${input.hostName+\".\"+input._project_domain}\n      displayName: ${input.displayName}\n      folderName: ${input._base_folder+\"/\"+input._project_name}\n      image: ${input.image}\n      flavor: ${input.flavor}\n      constraints:\n        - tag: ${input._compute_tag_category+\":\"+input.compute}\n      vpc: ${input.vpc}\n      networks:\n        - network: ${resource.seg.id}\n          address: ${input.address!=\"*\"?input.address:null}\n          assignment: static\n          primaryAddress: true\n          # securityGroups: ${input.firewall!=\"-\"?resource.dfw[*].id:null}\n      addressType: ${input.addressType}\n      tags: ${input.firewall!=\"-\"?[{\"key\":input._dfw_tag_category,\"value\":input.firewall}]:null}\n      attachedDisks: ${map_to_object(resource.disk[*].id, \"source\")}\n      rootPassword: ${input._root_password}\n      rootPasswordNew: ${input._root_password_new}\n      adminUsername: ${input._admin_username}\n      adminPassword: ${input._admin_password}\n      cloudConfig: |\n        #cloud-config\n        users:\n          - name: ${input._admin_username}\n            sudo: ALL=(ALL) NOPASSWD:ALL\n            shell: /bin/bash\n            groups: [adm, sudo, wheel, users]\n            lock_passwd: false\n          - name: ${input.username}\n            sudo: ${input._sudoer_user==true?\"ALL=(ALL) NOPASSWD:ALL\":\"\"}\n            shell: /bin/bash\n            groups: [wheel, users]\n            lock_passwd: false\n        chpasswd:\n          list: |\n            ${input._admin_username+\":\"+input._admin_password}\n            ${input.username+\":\"+input.password}\n          expire: False\n        ssh_pwauth: true\n        ${input.diskSize>0?\"disk_setup:\":\"\"}\n        ${input.diskSize>0?\"  /dev/sdb:\":\"\"}\n        ${input.diskSize>0?\"    table_type: gpt\":\"\"}\n        ${input.diskSize>0?\"    layout: True\":\"\"}\n        ${input.diskSize>0?\"    overwrite: True\":\"\"}\n        ${input.diskSize>0?\"fs_setup:\":\"\"}\n        ${input.diskSize>0?\"  - device: /dev/sdb\":\"\"}\n        ${input.diskSize>0?\"    filesystem: ext4\":\"\"}\n        ${input.diskSize>0?\"    label: data_disk\":\"\"}\n        mounts:\n        ${input.diskSize>0?\"  - [\\\"/dev/disk/by-label/data_disk\\\",\\\"\"+input.diskMount+\"\\\",\\\"auto\\\",\\\"defaults\\\",\\\"0\\\",\\\"0\\\"]\":\"\"}\n        package_update: ${input._package_upgrade==true?\"true\":\"false\"}\n        package_upgrade: ${input._package_upgrade==true?\"true\":\"false\"}\n        packages: ${input.packages}\n        runcmd:\n          - mount -a\n          - echo \"${base64_encode(input.bootScripts)}\" | base64 -d | tee /tmp/boot_scripts.sh\n          - chmod 755 /tmp/boot_scripts.sh\n          - /tmp/boot_scripts.sh 2>&1 | tee /tmp/boot_scripts.log\n  disk:\n    type: Cloud.vSphere.Disk\n    metadata:\n      layoutPosition:\n        - 0\n        - 1\n    properties:\n      name: ${input._project_name+\"-\"+input.hostName+\"-disk\"}\n      persistent: ${input.diskPersistence}\n      capacityGb: ${input.diskSize}\n      count: ${input.diskSize>0?1:0}\n  seg:\n    type: Cloud.NSX.Network\n    metadata:\n      layoutPosition:\n        - 1\n        - 0\n    properties:\n      networkType: existing\n      vpc: ${input.vpc}\n      constraints:\n        - tag: ${input._segment_tag_category+\":\"+input._segment_tag_value}\n",
    "status": "RELEASED",
    "versionDescription": "install by value pack at 20250324-191120",
    "valid": true
  },
  "283751cb-c4f0-41f3-95c4-050099bda6a1": {
    "id": "20250324-191120",
    "createdAt": "2025-03-24T10:11:28.725613Z",
    "createdBy": "admin",
    "updatedAt": "2025-03-24T10:11:28.725613Z",
    "updatedBy": "admin",
    "orgId": "72289d0c-8e6c-4825-ad70-89208f5c1e75",
    "projectId": "aa0ba574-aec3-4c69-88d0-6bbb1964e8ae",
    "projectName": "admin",
    "selfLink": "/blueprint/api/blueprints/283751cb-c4f0-41f3-95c4-050099bda6a1/versions/20250324-191120",
    "blueprintId": "283751cb-c4f0-41f3-95c4-050099bda6a1",
    "name": "Access IP",
    "description": "",
    "version": "20250324-191120",
    "content": "formatVersion: 1\ninputs:\n  # metadata <static>\n  _metadata_category:\n    type: string\n    title: Metadata Category\n    readOnly: true\n    default: Network\n  _metadata_catalog:\n    type: string\n    title: Metadata Catalog\n    readOnly: true\n    default: AIP\n  _metadata_resource_type:\n    type: string\n    title: Metadata Resource Type\n    readOnly: true\n    default: Custom.AIP\n  _metadata_available:\n    type: string\n    title: Metadata Available\n    readOnly: true\n    default: bvp vpc member\n  # hidden <static>\n  _project_id:\n    type: string\n    title: Project ID\n    default: bc0d85d7-98f7-4f45-b91b-09be0ee84d1d\n  # hidden <admin>\n  _access_domain:\n    type: string\n    title: Access Domain\n    default: example.com\n  # user inputs <variable>\n  requestMessage:\n    type: string\n    title: Request Message\n  name:\n    type: string\n    title: Name\n    pattern: ^[a-z][0-9a-z]+$\n    minLength: 2\n    maxLength: 16\n  vpc:\n    type: string\n    title: VPC\n    $dynamicEnum: /data/vro-actions/com.bvp.bp.aip/getVpcProfileLinksByProjectId?projectId={{_project_id}}\n  address:\n    type: string\n    title: IP Address\n    default: '*'\n    $dynamicEnum: /data/vro-actions/com.bvp.bp.aip/getExternalAddressesByProfileLink?profileLink={{vpc}}\nresources:\n  aip:\n    type: Custom.AIP\n    metadata:\n      layoutPosition:\n        - 1\n        - 1\n    properties:\n      name: ${input.name}\n      displayName: ${input.name+\".\"+input._access_domain}\n      accessDomain: ${input._access_domain}\n      vpc: ${input.vpc}\n      address: ${input.address!=\"*\"?input.address:null}\n",
    "status": "RELEASED",
    "versionDescription": "install by value pack at 20250324-191120",
    "valid": true
  },
  "c420c6a1-4173-4d10-9fd6-d12bf68f6dde": {
    "id": "20250324-191120",
    "createdAt": "2025-03-24T10:11:28.310284Z",
    "createdBy": "admin",
    "updatedAt": "2025-03-24T10:11:28.310284Z",
    "updatedBy": "admin",
    "orgId": "72289d0c-8e6c-4825-ad70-89208f5c1e75",
    "projectId": "aa0ba574-aec3-4c69-88d0-6bbb1964e8ae",
    "projectName": "admin",
    "selfLink": "/blueprint/api/blueprints/c420c6a1-4173-4d10-9fd6-d12bf68f6dde/versions/20250324-191120",
    "blueprintId": "c420c6a1-4173-4d10-9fd6-d12bf68f6dde",
    "name": "Segment",
    "description": "",
    "version": "20250324-191120",
    "content": "formatVersion: 1\ninputs:\n  # metadata <static>\n  _metadata_category:\n    type: string\n    title: Metadata Category\n    readOnly: true\n    default: Network\n  _metadata_catalog:\n    type: string\n    title: Metadata Catalog\n    readOnly: true\n    default: Segment\n  _metadata_resource_type:\n    type: string\n    title: Metadata Resource Type\n    readOnly: true\n    default: Cloud.NSX.Network\n  _metadata_available:\n    type: string\n    title: Metadata Available\n    readOnly: true\n    default: bvp vpc member\n  # hidden <static>\n  _project_id:\n    type: string\n    title: Project ID\n    default: 0b465747-26e4-404f-b536-2783c5c40c9c\n  _vpc_id:\n    type: string\n    title: VPC ID\n    readOnly: true\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.seg/getProfileIdByProfileLink?profileLink={{vpc}}\n  _vpc_name:\n    type: string\n    title: VPC Name\n    readOnly: true\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.seg/getProfileNameByProfileLink?profileLink={{vpc}}\n  # hidden <admin>\n  _vpc_tag_category:\n    type: string\n    title: VPC Tag Category\n    default: vpcId\n  _segment_tag_category:\n    type: string\n    title: Segment Tag Category\n    default: vpcSegId\n  # user inputs <variable>\n  requestMessage:\n    type: string\n    title: Request Message\n  displayName:\n    type: string\n    title: Display Name\n  codeName:\n    type: string\n    title: Code Name\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.seg/getRandomString?type=lowerDigit&length=8\n    pattern: ^[a-z][0-9a-z]+$\n    minLength: 2\n    maxLength: 16\n  vpc:\n    type: string\n    title: VPC\n    $dynamicEnum: /data/vro-actions/com.bvp.bp.seg/getVpcProfilesByProjectId?projectId={{_project_id}}\n  cidr:\n    type: string\n    title: CIDR\n    pattern: ^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\\/(3[0-2]|[1-2][0-9]|[0-9]))$\nresources:\n  segment:\n    type: Cloud.NSX.Network\n    metadata:\n      layoutPosition:\n        - 0\n        - 0\n    properties:\n      name: ${input._vpc_name+\"-\"+input.codeName}\n      displayName: ${input.displayName}\n      requestMessage: ${input.requestMessage}\n      networkType: private\n      networkCidr: ${input.cidr}\n      vpc: ${input.vpc}\n      constraints:\n        - tag: ${input._vpc_tag_category+\":\"+input._vpc_id}\n      tags:\n        - key: ${input._segment_tag_category}\n          value: ${input._vpc_name+\"-\"+input.codeName}\n",
    "status": "RELEASED",
    "versionDescription": "install by value pack at 20250324-191120",
    "valid": true
  },
  "c9533a06-558f-406e-a6fe-423fe7570088": {
    "id": "20250324-191120",
    "createdAt": "2025-03-24T10:11:27.691860Z",
    "createdBy": "admin",
    "updatedAt": "2025-03-24T10:11:27.691860Z",
    "updatedBy": "admin",
    "orgId": "72289d0c-8e6c-4825-ad70-89208f5c1e75",
    "projectId": "aa0ba574-aec3-4c69-88d0-6bbb1964e8ae",
    "projectName": "admin",
    "selfLink": "/blueprint/api/blueprints/c9533a06-558f-406e-a6fe-423fe7570088/versions/20250324-191120",
    "blueprintId": "c9533a06-558f-406e-a6fe-423fe7570088",
    "name": "Virtual Private Cloud",
    "description": "",
    "version": "20250324-191120",
    "content": "formatVersion: 1\ninputs:\n  # metadata <static>\n  _metadata_category:\n    type: string\n    title: Metadata Category\n    readOnly: true\n    default: Network\n  _metadata_catalog:\n    type: string\n    title: Metadata Catalog\n    readOnly: true\n    default: VPC\n  _metadata_resource_type:\n    type: string\n    title: Metadata Resource Type\n    readOnly: true\n    default: Custom.VPC\n  _metadata_available:\n    type: string\n    title: Metadata Available\n    readOnly: true\n    default: bvp vpc member\n  # hidden <static>\n  _project_id:\n    type: string\n    title: Project ID\n    default: 0b465747-26e4-404f-b536-2783c5c40c9c\n  _project_name:\n    type: string\n    title: Project Name\n    readOnly: true\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.vpc/getProjectNameByProjectId?projectId={{_project_id}}\n  _vpc_infra_id:\n    type: string\n    title: VPC Infra ID\n    readOnly: true\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.vpc/getVpcInfraIdByProfileLink?profileLink={{vpcInfraProfile}}\n  # hidden <admin>\n  _vpc_infra_tag_category:\n    type: string\n    title: VPC Infra Tag Category\n    default: vpcInfraId\n  _vpc_tag_category:\n    type: string\n    title: VPC Tag Category\n    default: vpcId\n  _segment_tag_category:\n    type: string\n    title: Segment Tag Category\n    default: vpcSegId\n  _loadbalancer_tag_category:\n    type: string\n    title: Load Balancer Tag Category\n    default: vpcLbId\n  _managed_network_cidr:\n    type: string\n    title: Managed Network CIDR\n    default: 10.255.255.0/24\n  # user inputs <variable>\n  requestMessage:\n    type: string\n    title: Request Message\n  displayName:\n    type: string\n    title: Display Name\n  codeName:\n    type: string\n    title: Code Name\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.vpc/getRandomString?type=lowerDigit&length=8\n    pattern: ^[a-z][0-9a-z]+$\n    minLength: 2\n    maxLength: 16\n  placementZone:\n    type: string\n    title: Availability Zone\n    $dynamicEnum: /data/vro-actions/com.bvp.bp.vpc/getPlacementZonesByProjectId?projectId={{_project_id}}\n  vpcInfraProfile:\n    type: string\n    title: VPC Infra\n    $dynamicEnum: /data/vro-actions/com.bvp.bp.vpc/getVpcInfraProfilesByPlacementZoneLink?placementZoneLink={{placementZone}}\nresources:\n  vpc:\n    type: Custom.VPC\n    metadata:\n      layoutPosition:\n        - 0\n        - 0\n    properties:\n      name: ${input._project_name+\"-\"+input.codeName}\n      displayName: ${input.displayName}\n      requestMessage: ${input.requestMessage}\n      placementZone: ${input.placementZone}\n      vpcTagCategory: ${input._vpc_tag_category}\n      vpcInfraProfile: ${input.vpcInfraProfile}\n      managedGateway: ${resource.gw.id}\n      managedNetwork: ${resource.seg.id}\n      managedLoadBalancer: ${resource.lb.id}\n  gw:\n    type: Cloud.NSX.Gateway\n    metadata:\n      layoutPosition:\n        - 1\n        - 0\n    properties:\n      name: ${input._project_name+\"-\"+input.codeName}\n      networks:\n        - ${resource.seg.id}\n  lb:\n    type: Cloud.NSX.LoadBalancer\n    metadata:\n      layoutPosition:\n        - 0\n        - 1\n    properties:\n      name: ${input._project_name+\"-\"+input.codeName}\n      gateway: ${resource.gw.id}\n      network: ${resource.seg.id}\n      routes:\n        - protocol: TCP\n          port: 1\n          instanceProtocol: TCP\n          instancePort: 1\n          algorithm: ROUND_ROBIN\n      instances: []\n      tags:\n        - key: ${input._loadbalancer_tag_category}\n          value: ${input._project_name+\"-\"+input.codeName}\n  seg:\n    type: Cloud.NSX.Network\n    metadata:\n      layoutPosition:\n        - 2\n        - 0\n    properties:\n      name: ${input._project_name+\"-\"+input.codeName}\n      networkType: outbound\n      networkCidr: ${input._managed_network_cidr}\n      constraints:\n        - tag: ${input._vpc_infra_tag_category+\":\"+input._vpc_infra_id}\n      tags:\n        - key: ${input._segment_tag_category}\n          value: ${input._project_name+\"-\"+input.codeName}\n",
    "status": "RELEASED",
    "versionDescription": "install by value pack at 20250324-191120",
    "valid": true
  },
  "6e615839-916f-4121-b497-fc5e14178a93": {
    "id": "20250324-191120",
    "createdAt": "2025-03-24T10:11:26.962006Z",
    "createdBy": "admin",
    "updatedAt": "2025-03-24T10:11:26.962006Z",
    "updatedBy": "admin",
    "orgId": "72289d0c-8e6c-4825-ad70-89208f5c1e75",
    "projectId": "aa0ba574-aec3-4c69-88d0-6bbb1964e8ae",
    "projectName": "admin",
    "selfLink": "/blueprint/api/blueprints/6e615839-916f-4121-b497-fc5e14178a93/versions/20250324-191120",
    "blueprintId": "6e615839-916f-4121-b497-fc5e14178a93",
    "name": "Project",
    "description": "프로젝트 생성",
    "version": "20250324-191120",
    "content": "formatVersion: 1\ninputs:\n  # metadata <static>\n  _metadata_category:\n    type: string\n    title: Metadata Category\n    readOnly: true\n    default: Policy\n  _metadata_catalog:\n    type: string\n    title: Metadata Catalog\n    readOnly: true\n    default: Project\n  _metadata_resource_type:\n    type: string\n    title: Metadata Resource Type\n    readOnly: true\n    default: Custom.Project\n  _metadata_available:\n    type: string\n    title: Metadata Available\n    readOnly: true\n    default: project admin\n  # hidden <static>\n  # hidden <admin>\n  _admin_project_name:\n    type: string\n    title: Admin Project Name\n    default: admin\n  _system_approver:\n    type: string\n    title: System Approver Username\n    default: admin\n  _default_supervisors:\n    type: array\n    title: Default Supervisor Usernames\n    items:\n      type: string\n      title: Username\n      pattern: ^[a-zA-Z0-9_\\.\\-]+\n    default: []\n  _approval_actions:\n    type: array\n    title: Approval Actions\n    items:\n      type: string\n      title: Action ID\n    default:\n      - Deployment.Create\n  _auto_approval_decision:\n    type: string\n    title: Auto Approval Decision\n    enum:\n      - APPROVE\n      - REJECT\n    default: REJECT\n  _auto_approval_expiry:\n    type: number\n    title: Auto Approval Expiry Days\n    default: 1\n  _catalogs:\n    type: array\n    title: Catalogs\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.prj/getVpcCatalogsByAdminProjectName?adminProjectName={{_admin_project_name}}\n    items:\n      type: string\n      title: Catalog\n      $dynamicEnum: /data/vro-actions/com.bvp.bp.prj/getVpcCatalogsByAdminProjectName?adminProjectName={{_admin_project_name}}\n  # user inputs <variable>\n  requestMessage:\n    type: string\n    title: Request Message\n  displayName:\n    type: string\n    title: Display Name\n  codeName:\n    type: string\n    title: Code Name\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.prj/getRandomString?type=lowerDigit&length=8\n    pattern: ^[a-z][0-9a-z]+$\n    minLength: 2\n    maxLength: 16\n  administrators:\n    type: array\n    title: Administrator Usernames\n    description: User.username\n    items:\n      type: string\n      title: Username\n      pattern: ^[a-zA-Z0-9_\\.\\-]+\n  members:\n    type: array\n    title: Member Usernames\n    description: User.username\n    default: []\n    items:\n      type: string\n      title: Username\n      pattern: ^[a-zA-Z0-9_\\.\\-]+\n  viewers:\n    type: array\n    title: Viewer Usernames\n    description: User.username\n    default: []\n    items:\n      type: string\n      title: Username\n      pattern: ^[a-zA-Z0-9_\\.\\-]+\n  supervisors:\n    type: array\n    title: Supervisor Usernames\n    description: User.username\n    default: []\n    items:\n      type: string\n      title: Username\n      pattern: ^[a-zA-Z0-9_\\.\\-]+\n  sharedResources:\n    type: boolean\n    title: Shared Resources\n    default: true\n  cloudZones:\n    type: array\n    title: Availability Zones\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.prj/getCloudZones\n    items:\n      type: string\n      title: Availability Zone\n      $dynamicEnum: /data/vro-actions/com.bvp.bp.prj/getCloudZones\n  placementPolicy:\n    type: string\n    title: Placement Policy\n    default: default\n    oneOf:\n      - title: Default\n        const: default\n      - title: Spread\n        const: spread\nresources:\n  project:\n    type: Custom.Project\n    metadata:\n      layoutPosition:\n        - 1\n        - 1\n    properties:\n      name: ${input.codeName}\n      displayName: ${input.displayName}\n      requestMessage: ${input.requestMessage}\n      administrators: ${input.administrators}\n      members: ${input.members}\n      viewers: ${input.viewers}\n      supervisors: ${input.supervisors + input._default_supervisors}\n      sharedResources: ${input.sharedResources}\n      cloudZones: ${input.cloudZones}\n      placementPolicy: default\n      catalogs: ${input._catalogs}\n      approver: ${input._system_approver}\n      approvalActions: ${input._approval_actions}\n      autoApprovalDecision: ${input._auto_approval_decision}\n      autoApprovalExpiry: ${input._auto_approval_expiry}\n",
    "status": "RELEASED",
    "versionDescription": "install by value pack at 20250324-191120",
    "valid": true
  },
  "ca78dd77-cd2e-491e-9574-19df799a756e": {
    "id": "20250324-191120",
    "createdAt": "2025-03-24T10:11:26.539Z",
    "createdBy": "admin",
    "updatedAt": "2025-03-24T10:11:26.539Z",
    "updatedBy": "admin",
    "orgId": "72289d0c-8e6c-4825-ad70-89208f5c1e75",
    "projectId": "aa0ba574-aec3-4c69-88d0-6bbb1964e8ae",
    "projectName": "admin",
    "selfLink": "/blueprint/api/blueprints/ca78dd77-cd2e-491e-9574-19df799a756e/versions/20250324-191120",
    "blueprintId": "ca78dd77-cd2e-491e-9574-19df799a756e",
    "name": "Load Balancer",
    "description": "",
    "version": "20250324-191120",
    "content": "formatVersion: 1\ninputs:\n  # metadata <static>\n  _metadata_category:\n    type: string\n    title: Metadata Category\n    readOnly: true\n    default: Network\n  _metadata_catalog:\n    type: string\n    title: Metadata Catalog\n    readOnly: true\n    default: NLB\n  _metadata_resource_type:\n    type: string\n    title: Metadata Resource Type\n    readOnly: true\n    default: Cloud.NSX.LoadBalancer\n  _metadata_available:\n    type: string\n    title: Metadata Available\n    readOnly: true\n    default: bvp vpc member\n  # hidden <static>\n  _project_id:\n    type: string\n    title: Project ID\n    default: c2891803-2b94-447f-aca3-3daf6546e6ff\n  _vpc_name:\n    type: string\n    title: VPC Name\n    readOnly: true\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.nlb/getProfileNameByProfileLink?profileLink={{vpc}}\n  _segment_tag_value:\n    type: string\n    title: Segment Tag Value\n    readOnly: true\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.nlb/getSegmentTagValueByTagCategoryAndSubnetLink?category={{_segment_tag_category}}&subnetLink={{segment}}\n  _dummy_interface:\n    type: string\n    title: Dummy Interface\n    readOnly: true\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.nlb/getDummyInterfaceByProfileLink?profileLink={{vpc}}\n  # hidden <admin>\n  _segment_tag_category:\n    type: string\n    title: Segment Tag Category\n    default: vpcSegId\n  # user inputs <variable>\n  requestMessage:\n    type: string\n    title: Request Message\n  displayName:\n    type: string\n    title: Display Name\n  codeName:\n    type: string\n    title: Code Name\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.nlb/getRandomString?type=lowerDigit&length=8\n    pattern: ^[a-z][0-9a-z]+$\n    minLength: 2\n    maxLength: 16\n  flavor:\n    type: string\n    title: Flavor\n    default: SMALL\n    oneOf:\n      - title: SMALL [Virtual-Server<20, Back-End<300]\n        const: SMALL\n      - title: MEDIUM [Virtual-Server<100, Back-End<2000]\n        const: MEDIUM\n      - title: LARGE [Virtual-Server<1000, Back-End<7500]\n        const: MEDIUM\n      - title: XLARGE [Virtual-Server<2000, Back-End<10000]\n        const: EXTRA_LARGE\n  vpc:\n    type: string\n    title: VPC\n    $dynamicEnum: /data/vro-actions/com.bvp.bp.nlb/getVpcProfilesByProjectId?projectId={{_project_id}}\n  segment:\n    type: string\n    title: Segment\n    $dynamicEnum: /data/vro-actions/com.bvp.bp.nlb/getVpcSubnetLinksByProfileLink?profileLink={{vpc}}\n  address:\n    type: string\n    title: IP Address\n    $dynamicEnum: /data/vro-actions/com.bvp.bp.nlb/getIpAddressesBySubnetLink?subnetLink={{segment}}\n  rules:\n    type: array\n    title: Rules\n    default: []\n    items:\n      type: object\n      title: Virtual Server\n      properties:\n        protocol:\n          type: string\n          title: Front-End Protocol\n          default: TCP\n          enum:\n            - TCP\n            - HTTP\n            - HTTPS\n        port:\n          type: number\n          title: Front-End Port\n          default: 80\n          minimum: 1\n          maximum: 65535\n        instanceProtocol:\n          type: string\n          title: Back-End Protocol\n          default: TCP\n          enum:\n            - TCP\n            - HTTP\n            - HTTPS\n        instancePort:\n          type: number\n          title: Back-End Port\n          default: 80\n          minimum: 1\n          maximum: 65535\n        algorithm:\n          type: string\n          title: Algorithm\n          default: ROUND_ROBIN\n          enum:\n            - ROUND_ROBIN\n            - WEIGHTED_ROUND_ROBIN\n            - LEAST_CONNECTION\n            - WEIGHTED_LEAST_CONNECTION\n            - IP_HASH\n            - URI\n            - URL\n            - HTTP_HEADER\n        healthCheckConfiguration:\n          type: object\n          title: Health-Check\n          properties:\n            protocol:\n              type: string\n              title: Protocol\n              default: TCP\n              enum:\n                - TCP\n                - HTTP\n                - HTTPS\n            port:\n              type: number\n              title: Port\n              default: 80\n              minimum: 1\n              maximum: 65535\n            urlPath:\n              type: string\n              title: URL\n              default: ''\n            intervalSeconds:\n              type: number\n              title: Interval (Sec)\n              default: 5\n              minimum: 5\n            timeoutSeconds:\n              type: number\n              title: Timeout (Sec)\n              default: 5\n              minimum: 5\n            healthyThreshold:\n              type: number\n              title: Healthy Count\n              default: 3\n              minimum: 1\n            unhealthyThreshold:\n              type: number\n              title: Unhealthy Count\n              default: 3\n              minimum: 1\nresources:\n  lb:\n    type: Cloud.NSX.LoadBalancer\n    metadata:\n      layoutPosition:\n        - 0\n        - 0\n    properties:\n      name: ${input._vpc_name+\"-\"+input.codeName}\n      displayName: ${input.displayName}\n      requestMessage: ${input.requestMessage}\n      vpc: ${input.vpc}\n      type: ${input.flavor}\n      network: ${resource.seg.id}\n      address: ${input.address!=\"*\"?input.address:null}\n      routes: ${input.rules}\n      instances:\n        - ${input._dummy_interface}\n  seg:\n    type: Cloud.NSX.Network\n    metadata:\n      layoutPosition:\n        - 1\n        - 0\n    properties:\n      networkType: existing\n      constraints:\n        - tag: ${input._segment_tag_category+\":\"+input._segment_tag_value}\n",
    "status": "RELEASED",
    "versionDescription": "install by value pack at 20250324-191120",
    "valid": true
  },
  "6eda9679-dcb8-4737-a053-0b0c93662d86": {
    "id": "20250324-191120",
    "createdAt": "2025-03-24T10:11:25.664574Z",
    "createdBy": "admin",
    "updatedAt": "2025-03-24T10:11:25.664574Z",
    "updatedBy": "admin",
    "orgId": "72289d0c-8e6c-4825-ad70-89208f5c1e75",
    "projectId": "aa0ba574-aec3-4c69-88d0-6bbb1964e8ae",
    "projectName": "admin",
    "selfLink": "/blueprint/api/blueprints/6eda9679-dcb8-4737-a053-0b0c93662d86/versions/20250324-191120",
    "blueprintId": "6eda9679-dcb8-4737-a053-0b0c93662d86",
    "name": "Segment Peering",
    "description": "",
    "version": "20250324-191120",
    "content": "formatVersion: 1\ninputs:\n  # metadata <static>\n  _metadata_category:\n    type: string\n    title: Metadata Category\n    readOnly: true\n    default: Network\n  _metadata_catalog:\n    type: string\n    title: Metadata Catalog\n    readOnly: true\n    default: Peering\n  _metadata_resource_type:\n    type: string\n    title: Metadata Resource Type\n    readOnly: true\n    default: Custom.Peering\n  _metadata_available:\n    type: string\n    title: Metadata Available\n    readOnly: true\n    default: vpc member\n  # hidden <adjustable>\n  _project_id:\n    type: string\n    title: Project ID\n    default: 39cfd082-761e-4442-ba85-91788d9340e0\n  _deployment_name_id:\n    type: string\n    title: Unique Deployment Name ID\n    $dynamicDefault: /data/vro-actions/com.bvp.bp.peer/getVpcPeeringIdBySubnetLinks?subnetLink1={{subnet1}}&subnetLink2={{subnet2}}\n  # input parameters <variable>\n  requestMessage:\n    type: string\n    title: Request Message\n  displayName:\n    type: string\n    title: Display Name\n  vpc1:\n    type: string\n    title: VPC 1\n    $dynamicEnum: /data/vro-actions/com.bvp.bp.peer/getVpcProfileLinksByProjectId?projectId={{_project_id}}\n  subnet1:\n    type: string\n    title: Segment 1\n    $dynamicEnum: /data/vro-actions/com.bvp.bp.peer/getVpcSubnetsByProfileLink?profileLink={{vpc1}}\n  vpc2:\n    type: string\n    title: VPC 2\n    $dynamicEnum: /data/vro-actions/com.bvp.bp.peer/getVpcProfileLinksByProjectId?projectId={{_project_id}}&exceptProfileLink={{vpc1}}\n  subnet2:\n    type: string\n    title: Segment 2\n    $dynamicEnum: /data/vro-actions/com.bvp.bp.peer/getVpcSubnetsByProfileLink?profileLink={{vpc2}}\nresources:\n  peering:\n    type: Custom.Peering\n    metadata:\n      layoutPosition:\n        - 1\n        - 1\n    properties:\n      displayName: ${input.displayName}\n      vpc1: ${input.vpc1}\n      subnet1: ${input.subnet1}\n      vpc2: ${input.vpc2}\n      subnet2: ${input.subnet2}\n",
    "status": "RELEASED",
    "versionDescription": "install by value pack at 20250324-191120",
    "valid": true
  }
}